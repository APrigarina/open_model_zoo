models:
  - name: facenet-20180408-102900

    launchers:
      - framework: dlsdk
        adapter:
          type: reid
          joining_method: concatenation

      - framework: opencv
        inputs:
          - name: image_batch
            type: INPUT
            shape: 3, 160, 160
          - name: phase_train
            type: INPUT
            shape: '1'
        adapter:
          type: reid
          joining_method: concatenation

      - framework: opencv
        backend: ocv
        _model_type: tf
        inputs:
          - name: image_batch
            type: INPUT
            shape: 3, 160, 160
          - name: phase_train
            type: INPUT
            shape: '1'
        adapter:
          type: reid
          joining_method: concatenation
    datasets:
      - name: lfw_mtcnn_align

        preprocessing:
          - type: auto_resize
          - type: flip
            mode: vertical
            merge_with_original: true
        metrics:
          - type: pairwise_accuracy_subsets
            min_score: best_train_threshold
            distance_method: cosine_distance
            subtract_mean: true
            reference: 0.9914
